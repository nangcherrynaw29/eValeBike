<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Result</title>
    <link rel="stylesheet" th:href="@{/webjars/bootstrap/5.3.3/css/bootstrap.min.css}">
</head>
<body>
<div class="container mt-5">
    <h2 class="text-center">Test Result</h2>
    <div class="card mt-3">
        <div class="card-body">
            <h5 class="card-title">Test ID: <span th:text="${report.id}"></span></h5>
            <p><strong>Type:</strong> <span th:text="${report.type}"></span></p>
            <p><strong>Status:</strong> <span th:text="${report.state}"></span></p>
            <p><strong>Expiry Date:</strong> <span th:text="${report.expiryDate}"></span></p>
            <p><strong>Battery Capacity:</strong> <span th:text="${report.batteryCapacity}"></span> Ah</p>
            <p><strong>Max Support:</strong> <span th:text="${report.maxSupport}"></span> %</p>
            <p><strong>Max Engine Power:</strong> <span th:text="${report.enginePowerMax}"></span> W</p>
            <p><strong>Nominal Engine Power:</strong> <span th:text="${report.enginePowerNominal}"></span> W</p>
            <p><strong>Engine Torque:</strong> <span th:text="${report.engineTorque}"></span> Nm</p>
        </div>
    </div>

    <h3 class="mt-4">Report Entries</h3>
    <table class="table table-striped table-bordered mt-3">
        <thead class="table-dark">
        <tr>
            <th>Timestamp</th>
            <th>Battery Voltage (V)</th>
            <th>Battery Current (A)</th>
            <th>Battery Capacity (Ah)</th>
            <th>Battery Temp (Â°C)</th>
            <th>Charge Status</th>
            <th>Assistance Level</th>
            <th>Torque Crank (Nm)</th>
            <th>Wheel Speed (km/h)</th>
            <th>Cadence (RPM)</th>
            <th>Engine RPM</th>
            <th>Engine Power (W)</th>
            <th>Wheel Power (W)</th>
            <th>Roll Torque</th>
            <th>Loadcell (N)</th>
            <th>Rol Hz</th>
            <th>Horiz. Inclination</th>
            <th>Vert. Inclination</th>
            <th>Load Power</th>
            <th>Status Plug</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="entry : ${report.reportEntries}">
            <td th:text="${entry.timestamp}"></td>
            <td th:text="${entry.batteryVoltage}"></td>
            <td th:text="${entry.batteryCurrent}"></td>
            <td th:text="${entry.batteryCapacity}"></td>
            <td th:text="${entry.batteryTemperatureCelsius}"></td>
            <td th:text="${entry.chargeStatus}"></td>
            <td th:text="${entry.assistanceLevel}"></td>
            <td th:text="${entry.torqueCrankNm}"></td>
            <td th:text="${entry.bikeWheelSpeedKmh}"></td>
            <td th:text="${entry.cadanceRpm}"></td>
            <td th:text="${entry.engineRpm}"></td>
            <td th:text="${entry.enginePowerWatt}"></td>
            <td th:text="${entry.wheelPowerWatt}"></td>
            <td th:text="${entry.rollTorque}"></td>
            <td th:text="${entry.loadcellN}"></td>
            <td th:text="${entry.rolHz}"></td>
            <td th:text="${entry.horizontalInclination}"></td>
            <td th:text="${entry.verticalInclination}"></td>
            <td th:text="${entry.loadPower}"></td>
            <td th:text="${entry.statusPlug}"></td>
        </tr>
        </tbody>
    </table>

    <div class="text-center mt-4">
        <a th:href="@{/technician/bikes}" class="btn btn-secondary">Back to Dashboard</a>
    </div>
</div>
<script th:src="@{/webjars/bootstrap/5.3.3/js/bootstrap.bundle.min.js}"></script>
</body>
</html>